Given the behavior and your logs, the issue could stem from inconsistent shard routing or delayed event propagation between the `wdk-data-shard-wrk` and Rumble’s chat consumer. If the `transfer:confirmed` event lands on a different shard than the one the chat service listens to, the webhook fires but the UI never receives it. Another possibility is cache desync: Redis stream offsets or LRU dedupe might drop events when multiple tips occur in quick succession. Also, if the `senderId` resolution depends on an Autobase lookup that hasn’t replicated yet, the chat message can be silently skipped. Checking shard affinity and Redis stream lag metrics should confirm which layer is dropping the event.

Why do you think sometimes the chat never shows?
The chat likely fails to appear when the webhook payload is malformed or delayed. Since you observed `payload: undefined` when no message is attached, the backend still emits the webhook, but the Rumble chat consumer may discard it if the payload schema doesn’t match expectations (missing `message.text` or `senderId`). Another cause could be race conditions between `transfer:confirmed` and `notification:sent`—if the notification fires before the chat service resolves the sender identity, the message never renders. Adding a validation guard and retry on undefined payloads in the notification worker should stabilize chat visibility.

The tips and rants can disappear because the event chain sometimes breaks before the chat service processes it. When the webhook payload is malformed or delayed and lacks the message text or sender identifier the consumer discards the event even though the webhook still fires. A race condition can also cause the notification to be sent before the sender identity is resolved, which leads to a silent drop. Inconsistent shard routing means the confirmed transfer may land on a shard that the chat listener does not monitor, so the final confirmed event never reaches the channel. Redis streams can fall behind or the deduplication logic can drop events during rapid tip bursts, creating gaps in the feed. The front end forces a tip‑jar activation check during the send flow, showing a “select channel to receive tips” prompt and blocking the tip from being processed. A version mismatch between the older 1.2.0 build and the newer 1.2.0.142 build may miss recent fixes, while the currency used does not appear to affect the outcome. The undefined payload itself is not the blocker, because tips without a rant still appear, but the combination of these backend timing issues, shard affinity problems, stream lag and the activation UI bug together explain why some rants and tips never show up.

