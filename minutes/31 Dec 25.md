# Rumble Wallet & Indexers - Standup

## Action Items

- Add retry + backoff around ctx.net_r0.jRequest in ork.js for /api/v1/connect.
- Tune poolLinger / timeout in net config to keep RPC pool alive during bursts.
- Implement rate‑limit or queue for /api/v1/connect concurrency.
- Schedule a meeting next week with Dario and Vigan (or “vegan”) to confirm Spark identity mapping.
- Review Pulmonary’s PR for Spark address fields; confirm uniqueness requirement across wallets.
- Help Kulwinder with MongoDB facility PR – grant repo access or merge from fork.
- Push design explanation for balance‑oscillation PR; get team feedback before Jan 1.
- Update README & stress‑test scripts (as done) and share link in #rumble‑backend channel.

## Error Discussion – Hyperswarm RPC Pool Race

- Crash originates from Hyperswarm RPC client, not the /connect handler.
- Under &gt; 1 k parallel requests the RPC stream can be destroyed before the request finishes → “cannot read property of null”.
- Same issue seen in stress tests; lower loads (&lt; 500) are fine.
- Short‑term fix: retry + backoff around the RPC call, plus pool linger/timeout tuning.
- Long‑term: isolate RPC pool lifecycle to avoid mid‑flight teardown.
- Existing test can reproduce the bug; use it to verify fixes.

## Spark Identity Fields & Address Model

- New top‑level fields: sparkIdentityKey and sparkIdentityToken.
- Question: should these be unique across wallets like existing address IDs?
- If we enforce uniqueness now, many app layers need changes; if not, implementation stays simple but may cause future refactor pain.
- Consensus leaning toward defining them at top level (claim‑level) rather than per‑address.
- These are deposit‑only addresses: no balance or transfer sync needed, can be treated as static identifiers for now.
- Plan: document constraints, validate against current address schema, then decide on uniqueness rule.

## Deployment & Testing Updates

- Dev deployment completed; services can be pulled & restarted on staging or new dev env.
- Alex finished device‑identification API, working on E2E tests (≈ 1 h remaining).
- Rumble app node: old test cases fixed, new missing endpoint tests added.
- Stress testing shows bottleneck in auto‑base performance; logs point to it.
- Added README & script fixes to Nicholas’s repo; shared in internal thread.
- MongoDB facility PR awaiting Vigan’s review (access issue on fork).

## Upcoming Work & Holiday Coverage

- Alex’s balance‑oscillation design PR still open; aim to get team review by early Jan.
- Kulwinder will continue stress testing and bottleneck identification before holiday.
- Team member will be on holiday next week; will be reachable for high‑priority issues.
- Everyone wishes each other a happy New Year and smooth holiday break.
